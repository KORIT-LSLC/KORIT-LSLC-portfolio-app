<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.korea.triplocation.repository.UserRepository">
	
	<resultMap type="com.korea.triplocation.domain.user.entity.User" id="userMap">
		<id property="userId" column="user_id"/>
		<result property="email" column="email"/>
		<result property="password" column="password"/>
		<result property="phone" column="phone"/>
		<result property="address" column="address"/>
		<result property="profileImg" column="profile_img"/>
	</resultMap>
	
	<select id="getUserById" resultMap="userMap">
	
		select
			user_id,
			email,
			name,
			phone,
			address,
			profile_img
		from
			user_tb
		where
			user_id = #{userId}
	
	</select>
	
	<select id="getUserAll" resultMap="userMap">
	
		select
			user_id,
			email,
			name,
			phone,
			address,
			profile_img
		from
			user_tb
			
	</select>
	
	<select id="searchUserByEmail" resultMap="userMap">
	
		select
			user_id,
			email,
			name,
			phone,
			address,
			profile_img
		from
			user_tb
		where
			email = #{email}
			
	</select>
	
	<select id="searchUserByPhone" resultMap="userMap">
	
		select
			user_id,
			email,
			name,
			phone,
			address,
			profile_img
		from
			user_tb
		where
			phone = #{phone}
			
	</select>
	
	<update id="modifyUser">
		
		update 
			user_tb
		set
			email = #{email},
			name = #{name},
			phone = #{phone},
			address = #{address},
			profile_img = #{profileImg}
		where
			user_id = #{userId}
	
	</update>
	
	<delete id="deleteUser" parameterType="int">
	
		delete
		from 
			user_tb
		where
			user_id = #{user_id}
			
	</delete>
	
</mapper>